<!-- header.component.html -->
<div class="header-container">
  <header class="header">
    <a href=""><img src="image.png" alt="" /></a>
    <div class="user-section">
      <button class="user-button" (click)="toggleDropdown()">
        <i class="fa-solid fa-user userIcon"></i>
      </button>

      <!-- Dropdown Menu -->
      <div class="dropdown-menu" *ngIf="showDropdown && isLoggedIn">
        <div class="dropdown-header">
          <i class="fa-solid fa-user-circle"></i>
          <span>{{ currentUser?.name }}</span>
        </div>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item">
          <i class="fa-solid fa-user-gear"></i>
          Profile
        </button>
        <button class="dropdown-item">
          <i class="fa-solid fa-gear"></i>
          Settings
        </button>
        <div class="dropdown-divider"></div>
        <button class="dropdown-item" (click)="onLogout()">
          <i class="fa-solid fa-sign-out-alt"></i>
          Logout
        </button>
      </div>
    </div>
  </header>
</div>

<!-- Login Form Overlay -->
<div class="auth-overlay" *ngIf="showLoginForm">
  <div class="auth-box">
    <div class="auth-header">
      <i class="fa-solid fa-user-circle"></i>
      <h2>Login</h2>
      <button class="close-button" (click)="toggleLoginForm()">
        <i class="fa-solid fa-times"></i>
      </button>
    </div>
    <div class="auth-form">
      <!-- Message display -->
      <div
        class="message"
        *ngIf="loginMessage.text"
        [ngClass]="loginMessage.type"
      >
        {{ loginMessage.text }}
      </div>

      <div class="form-group">
        <div class="input-group">
          <i class="fa-solid fa-envelope"></i>
          <input
            type="email"
            placeholder="Email"
            [(ngModel)]="loginEmail"
            name="loginEmail"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <i class="fa-solid fa-lock"></i>
          <input
            type="password"
            placeholder="Password"
            [(ngModel)]="loginPassword"
            name="loginPassword"
          />
        </div>
      </div>
      <button class="auth-button" (click)="onLogin()">
        <i class="fa-solid fa-sign-in-alt"></i>
        Login
      </button>
      <p class="auth-switch">
        Don't have an account?
        <a href="#" (click)="toggleSignupForm()">Sign up</a>
      </p>
    </div>
  </div>
</div>

<!-- Signup Form Overlay -->
<div class="auth-overlay" *ngIf="showSignupForm">
  <div class="auth-box">
    <div class="auth-header">
      <i class="fa-solid fa-user-plus"></i>
      <h2>Sign Up</h2>
      <button class="close-button" (click)="toggleSignupForm()">
        <i class="fa-solid fa-times"></i>
      </button>
    </div>
    <div class="auth-form">
      <!-- Message display -->
      <div
        class="message"
        *ngIf="signupMessage.text"
        [ngClass]="signupMessage.type"
      >
        {{ signupMessage.text }}
      </div>

      <div class="form-group">
        <div class="input-group">
          <i class="fa-solid fa-user"></i>
          <input
            type="text"
            placeholder="Full Name"
            [(ngModel)]="signupName"
            name="signupName"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <i class="fa-solid fa-envelope"></i>
          <input
            type="email"
            placeholder="Email"
            [(ngModel)]="signupEmail"
            name="signupEmail"
          />
        </div>
      </div>
      <div class="form-group">
        <div class="input-group">
          <i class="fa-solid fa-lock"></i>
          <input
            type="password"
            placeholder="Password"
            [(ngModel)]="signupPassword"
            name="signupPassword"
          />
        </div>
      </div>
      <button class="auth-button" (click)="onSignup()">
        <i class="fa-solid fa-user-plus"></i>
        Sign Up
      </button>
      <p class="auth-switch">
        Already have an account?
        <a href="#" (click)="toggleLoginForm()">Login</a>
      </p>
    </div>
  </div>
</div>
